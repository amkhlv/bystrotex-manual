<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Installation Part I</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="misc.css" title="default"/><link rel="stylesheet" type="text/css" href="slide.css" title="default"/><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._sec~3a.J.D.K.Etc%29" class="tocsubseclink" data-pltdoc="x">Install JDK, SBT and Git</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._sec~3a.Building%29" class="tocsubseclink" data-pltdoc="x">Build things</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._sec~3a.Run%29" class="tocsubseclink" data-pltdoc="x">Run</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="JumpingReferences.html" title="backward to &quot;Jumping to references&quot;" data-pltdoc="x" rel="prev">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;BystroTeX&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Installation2.html" title="forward to &quot;Installation Part II&quot;" data-pltdoc="x" rel="next">next &rarr;</a></span>&nbsp;</div><a name="(part._.Installation)"></a><p><span class="pagetitle">Installation Part I</span>
BystroTeX consists of the frontend (Racket) and backend (Java). The Java part works
like a server. It is actually an HTTP server. It listens on some port on the <span class="stt">localhost</span>.
We will start with <span style="font-weight: bold">setting up this server</span>.</p><blockquote class="SubFlow"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="local-toc-1"><a href="#%28part._sec~3a.J.D.K.Etc%29" data-pltdoc="x">Install JDK, SBT and Git</a></span><br/><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="local-toc-1"><a href="#%28part._sec~3a.Building%29" data-pltdoc="x">Build things</a></span><br/><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="local-toc-1"><a href="#%28part._sec~3a.Run%29" data-pltdoc="x">Run</a></span><br/></p></blockquote><a name="(part._sec~3a.J.D.K.Etc)"></a><p><span class="pagetitle-1">Install JDK, SBT and Git</span></p><p>To install the server, you will need to install the following things on your computer:</p><ol><li><p>Java with <a href="https://en.wikipedia.org/wiki/Java_Development_Kit">JDK</a></p></li><li><p><a href="https://en.wikipedia.org/wiki/Git">git</a></p></li><li><p><a href="https://en.wikipedia.org/wiki/SBT_(software)">SBT</a>
          (it is best installed <span style="font-style: italic">via</span>
              <a href="https://get-coursier.io/docs/cli-installation">Coursier</a>,
              <span class="stt">cs update cs</span> then <span class="stt">cs install sbt</span>)</p></li></ol><a name="(part._sec~3a.Building)"></a><p><span class="pagetitle-1">Build things</span></p><p>Now execute the following commands:</p><p><span class="Smaller"><span class="stt">git clone https://github.com/amkhlv/LaTeX2SVGServer</span></span></p><p><span class="Smaller"><span class="stt">cd LaTeX2SVGServer</span></span></p><p><span class="Smaller"><span class="stt">sbt assembly</span></span></p><p>This will take some time, as various libraries will have to be downloaded (and saved in <span class="stt">~/.ivy2</span> and <span class="stt">~/.sbt</span>).</p><p>After that, the following JAR file will appear:</p><p><span class="stt">latex2svgserver.jar</span></p><a name="(part._sec~3a.Run)"></a><p><span class="pagetitle-1">Run</span></p><p>Our Java server will communicate to the Racket frontend some initial settings
(including the anti-<a href="https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)">CSRF</a> token)
by writing them into an <span class="stt">XML</span> file. You have to decide how it should name this file and where to put it.
Suppose that you decided to call it <span class="stt">bystroConf.xml</span>, and choosen some directory where it will be:</p><p><span class="Smaller"><span class="stt">/path/to/bystroConf.xml</span></span></p><p>Under this assumption, start the server by typing the following command:</p><p><span class="stt">java -DbystroFile=/path/to/bystroConf.xml -Dbibfile=/path/to/yourBibTeXfile.bib -Dhttp.port=11111 -Dhttp.address=127.0.0.1 -jar latex2svgserver.jar</span></p><p>(Yes, you need to supply a BibTeX file. It may be empty.)</p><blockquote class="comment" style="background-color:rgb(240,240,255);"><p>The port number <span class="stt">11111</span> is also up to you to choose. The frontend will know it because it will be written (among other things) to <span class="stt">/path/to/bystroConf.xml</span></p></blockquote><p>Now the server is running.</p><blockquote class="comment" style="background-color:rgb(240,240,255);"><p>Notice that we specified the option <span class="Smaller"><span class="stt">-Dhttp.address=127.0.0.1</span></span>. Therefore the server
is only listening on a local interface (the &ldquo;loopback&rdquo;);
<a href="http://stackoverflow.com/questions/30658161/server-listens-on-127-0-0-1-do-i-need-firewall">it is not possible to connect to it from the outside</a>.
However, it would be still
<a href="https://blog.jetbrains.com/blog/2016/05/11/security-update-for-intellij-based-ides-v2016-1-and-older-versions/">possible to attack it</a>
from a running browser by
<a href="https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)">CSRF</a>.
Our defense is token and custom header. Should CSRF somehow succeed in spite of these measures,
actually exploiting it would require a vulnerability in
<a href="https://github.com/opencollab/jlatexmath">JLaTeXMath</a>.</p></blockquote><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="JumpingReferences.html" title="backward to &quot;Jumping to references&quot;" data-pltdoc="x" rel="prev">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;BystroTeX&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Installation2.html" title="forward to &quot;Installation Part II&quot;" data-pltdoc="x" rel="next">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>